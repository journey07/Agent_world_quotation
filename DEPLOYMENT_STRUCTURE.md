# ë°°í¬ êµ¬ì¡° ì„¤ëª…

## ðŸŽ¯ ìµœì¢… ë°°í¬ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         HTTP ìš”ì²­          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚                 â”‚
â”‚  Frontend       â”‚                           â”‚  Backend        â”‚
â”‚  (Vercel)       â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚  (Render)       â”‚
â”‚                 â”‚      JSON ì‘ë‹µ            â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     ë¬´ë£Œ í”Œëžœ                                      ë¬´ë£Œ í”Œëžœ
  (Static Sites)                              (Web Services)
```

## ðŸ“¦ ê° ë¶€ë¶„ì˜ ì—­í• 

### Frontend (Vercel)
- **ìœ„ì¹˜**: `frontend/` í´ë”
- **ê¸°ìˆ **: React + Vite
- **ì—­í• **: ì‚¬ìš©ìžê°€ ë³´ëŠ” ì›¹ íŽ˜ì´ì§€ (UI)
- **ë°°í¬**: Vercel Static Sites (ë¬´ë£Œ)
- **ìž‘ë™ ë°©ì‹**: 
  - ì‚¬ìš©ìžê°€ ë¸Œë¼ìš°ì €ì—ì„œ ì ‘ì†
  - React ì•±ì´ ë¡œë“œë¨
  - API ìš”ì²­ì„ Backend(Render)ë¡œ ë³´ëƒ„

### Backend (Render)
- **ìœ„ì¹˜**: `backend/` í´ë”
- **ê¸°ìˆ **: Express.js (Node.js)
- **ì—­í• **: API ì„œë²„ (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬)
- **ë°°í¬**: Render Web Services (ë¬´ë£Œ)
- **ìž‘ë™ ë°©ì‹**:
  - Frontendì—ì„œ API ìš”ì²­ ë°›ìŒ
  - ë°ì´í„° ì²˜ë¦¬ (ê²¬ì  ê³„ì‚°, PDF ìƒì„± ë“±)
  - ê²°ê³¼ë¥¼ JSONìœ¼ë¡œ Frontendì— ë°˜í™˜

## ðŸ”„ ë°ì´í„° íë¦„ ì˜ˆì‹œ

### ì˜ˆ: ê²¬ì  ê³„ì‚°í•˜ê¸°

1. **ì‚¬ìš©ìž ì•¡ì…˜**: 
   - Frontendì—ì„œ "ê²¬ì  ê³„ì‚°" ë²„íŠ¼ í´ë¦­

2. **Frontend â†’ Backend**:
   ```
   POST https://your-backend.onrender.com/api/quote/calculate
   {
     "columns": 5,
     "tiers": 6,
     "quantity": 1
   }
   ```

3. **Backend ì²˜ë¦¬**:
   - ê²¬ì  ê³„ì‚° ë¡œì§ ì‹¤í–‰
   - ê°€ê²© ê³„ì‚°
   - ê²°ê³¼ ì¤€ë¹„

4. **Backend â†’ Frontend**:
   ```json
   {
     "input": {...},
     "breakdown": {...},
     "summary": {
       "total": 1000000
     }
   }
   ```

5. **Frontend í‘œì‹œ**:
   - ê³„ì‚° ê²°ê³¼ë¥¼ í™”ë©´ì— í‘œì‹œ

## âœ… í˜„ìž¬ ì¤€ë¹„ ìƒíƒœ

### Frontend (Vercel ë°°í¬ ì¤€ë¹„)
- âœ… Vite + React êµ¬ì¡°
- âœ… í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (`VITE_API_URL`)
- âœ… ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ (`npm run build`)
- âš ï¸ `vercel.json` í•„ìš” (ìƒì„± ì˜ˆì •)

### Backend (Render ë°°í¬ ì¤€ë¹„)
- âœ… Express ì„œë²„ êµ¬ì¡° (`src/index.js`)
- âœ… API ë¼ìš°íŠ¸ ì„¤ì • (`src/routes/quote.js`)
- âœ… Health check ì—”ë“œí¬ì¸íŠ¸ (`/health`)
- âš ï¸ CORS ì„¤ì • ìˆ˜ì • í•„ìš” (í”„ë¡œë•ì…˜ URL í—ˆìš©)
- âš ï¸ `render.yaml` í•„ìš” (ìƒì„± ì˜ˆì •)

## ðŸ”§ í•„ìš”í•œ ìˆ˜ì • ì‚¬í•­

1. **Backend CORS ì„¤ì •**: í”„ë¡œë•ì…˜ Frontend URL í—ˆìš©
2. **render.yaml ìƒì„±**: Render ë°°í¬ ì„¤ì •
3. **frontend vercel.json ìƒì„±**: Vercel ë°°í¬ ì„¤ì •
4. **í™˜ê²½ ë³€ìˆ˜ ì„¤ì •**: ê° í”Œëž«í¼ì—ì„œ ì„¤ì •

## ðŸ“ ë°°í¬ í›„ URL êµ¬ì¡°

### ê°œë°œ í™˜ê²½
- Frontend: `http://localhost:5174`
- Backend: `http://localhost:3001`

### í”„ë¡œë•ì…˜ í™˜ê²½
- Frontend: `https://your-frontend.vercel.app`
- Backend: `https://your-backend.onrender.com`

### í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
```bash
# Frontend (.env)
VITE_API_URL=https://your-backend.onrender.com/api/quote
```

## ðŸŽ¯ ì´ êµ¬ì¡°ì˜ ìž¥ì 

1. **ì™„ì „ ë¬´ë£Œ**: ë‘ í”Œëž«í¼ ëª¨ë‘ ë¬´ë£Œ í”Œëžœ ì‚¬ìš©
2. **íƒ€ìž„ì•„ì›ƒ ê±±ì • ì—†ìŒ**: RenderëŠ” 100ë¶„ íƒ€ìž„ì•„ì›ƒ
3. **ë¹ ë¥¸ Frontend**: Vercelì˜ ê¸€ë¡œë²Œ CDN
4. **ìœ ì—°í•œ Backend**: Express ì„œë²„ë¡œ ëª¨ë“  ê¸°ëŠ¥ ì‚¬ìš© ê°€ëŠ¥

## âš ï¸ ì£¼ì˜ì‚¬í•­

1. **CORS ì„¤ì •**: Backendì—ì„œ Frontend URL í—ˆìš© í•„ìš”
2. **í™˜ê²½ ë³€ìˆ˜**: ê° í”Œëž«í¼ì—ì„œ ì„¤ì • í•„ìš”
3. **Cold Start**: Render ë¬´ë£Œ í”Œëžœì€ 15ë¶„ ë¹„í™œì„± ì‹œ sleep (UptimeRobotìœ¼ë¡œ í•´ê²°)
